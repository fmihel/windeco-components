@use "sass:meta";
@import './vars.scss';

@each $name,$width in $wd-widths{
    .nav-container-#{$name}{ 
        height: 100%;

        display: flex;
        flex-wrap: nowrap;
        justify-content: flex-start;
        align-content: stretch;
        align-items: stretch;
        
        flex-direction: row;
        
        @include less-than($name){
            flex-direction: column;
        }
        .nav-content{
            flex:1 1 auto;
            overflow: auto;
            @include wd-scrollbar();
        }
    }
}


@mixin define(){
    $size:var(--wd-size);
    $gap:var(--wd-gap);
    $size-item:calc(var(--wd-size)*0.8);
    
    [navbar]{
        //border:1px dashed yellowgreen;

        display: flex;
        flex-wrap: nowrap;
        justify-content: flex-start;
        align-content: stretch;
        align-items: stretch;       
        flex-direction: column;    

        [nav-panel]{

            display: flex;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-content: stretch;
            align-items: center;       
            flex-direction: row;
        }

        [nav-btn]{
            min-height: $size;
            min-width: $size;
            font-size:2rem;
            text-align: center;
            cursor:pointer;
            @include more-large{
                display: none;
            }
        }

        [nav-empty]{
            flex:1 1 auto;
            @include more-large{
                display:none;
            }
        }
        
        [nav-menu]{
            min-width:200px;
            overflow: auto;        
            @include less-large{
                height:0px;
            }
            &[expand]{
                height:auto !important;
                min-height: auto !important;
            }
            @include less-large{
                /*
                position: absolute;
                right:0px;
                top:0px;
                background-color: gray;
                height: 100%;
                width:0px;
                */
            }
        }

        [nav-item]{
            min-height:$size;
            line-height: $size;
            overflow: hidden;

            //&:not(:last-child){
            //[caption]{
                //border-bottom:1px solid rgba(gray,1);
            //}
            //}
            [nav-item]{
                padding-left:16px;
            }
            
            &[opened]{
                >[caption]{
                    color:var(--wd-highlight);
                }
            }
        }


    }


    .wd-navbar{
        padding: $gap;        
    }        
    @each $name,$width in $wd-widths{
        .nav-container-#{$name}{ 
            [navbar]{
                [nav-btn]{
                    display: block;
                    @include more-than($name){
                        display: none !important;
                    }
                }
                [nav-empty]{
                    @include more-than($name){
                        display:none !important;
                    }
                }
                [nav-menu]{
                    height:auto;
                    @include less-than($name){
                        height:0px;
                    }                    
                }
            }
        }
    }
    
    .wd-nav-logo{
        min-height: calc($size*1.5);
        line-height: calc($size*1.5);
    }
    
}


@keyframes nav-open {
    from { height:24px; }
    to {  height:48px; }
}


@include define();